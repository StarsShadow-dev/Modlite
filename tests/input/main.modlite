import { print startsWith } from "../../StandardLibrary.json"
import { createInput } from "../node.json"

function main() void {
	print("creating input")
	createInput(onInput)
}

function onInput(line:string) void {
	// a switch statement evaluates case conditions from top to bottom until a condition is true
	// then runs the contents of that case
	// (once the case is run the switch statement is over and no more cases can be run)
	switch {
		case (startsWith(line "line")) {
			print("line = " .. line)
		}
		case (line == "box") {
			print("┌─────┐")
			print("│     │")
			print("│     │")
			print("└─────┘")
		}
		case (line == "big box") {
			print("┌──────────┐")
			print("│          │")
			print("│          │")
			print("│          │")
			print("│          │")
			print("└──────────┘")
		}
		case (line == "long") {
			print("long")
			print("loong")
			print("looong")
			print("loooong")
			print("looooong")
			print("loooooong")
			print("looooooong")
			print("loooooooong")
			print("looooooooong")
			print("loooooooooong")
			print("")
			print("Is that long enough for you?")
		}
		case (line == "") {
			print("empty input")
		}
		// this case is run when none of the other conditions are true
		case (true) {
			print("unknown input " .. line)
		}
	}
}